[{"D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\index.js":"1","D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\App.js":"2","D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\serviceWorker.js":"3","D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\app\\store.js":"4","D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\Sidebar.js":"5","D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\Chat.js":"6","D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\SidebarChat.js":"7","D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\firebase.js":"8","D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\ChatMessage.js":"9","D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\Login.js":"10","D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\features\\userSlice.js":"11"},{"size":644,"mtime":499162500000,"results":"12","hashOfConfig":"13"},{"size":832,"mtime":1609003640735,"results":"14","hashOfConfig":"13"},{"size":5141,"mtime":499162500000,"results":"15","hashOfConfig":"13"},{"size":186,"mtime":1609002078376,"results":"16","hashOfConfig":"13"},{"size":2335,"mtime":1609237424890,"results":"17","hashOfConfig":"13"},{"size":3587,"mtime":1609182586685,"results":"18","hashOfConfig":"13"},{"size":1246,"mtime":1609237415658,"results":"19","hashOfConfig":"13"},{"size":635,"mtime":1608991627001,"results":"20","hashOfConfig":"13"},{"size":634,"mtime":1609163730230,"results":"21","hashOfConfig":"13"},{"size":1092,"mtime":1609158595842,"results":"22","hashOfConfig":"13"},{"size":710,"mtime":1609002474340,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"18588cd",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"26"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\index.js",[],["49","50"],"D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\App.js",[],"D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\serviceWorker.js",[],"D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\app\\store.js",[],"D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\Sidebar.js",[],"D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\Chat.js",["51"],"import { Avatar, IconButton } from \"@material-ui/core\";\r\nimport SearchOutlinedIcon from \"@material-ui/icons/SearchOutlined\";\r\nimport AttachFileOutlinedIcon from \"@material-ui/icons/AttachFileOutlined\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport \"./Chat.css\";\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport InsertEmoticonIcon from \"@material-ui/icons/InsertEmoticon\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport db from \"./firebase\";\r\nimport ChatMessage from \"./ChatMessage\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { selectUser } from \"./features/userSlice\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Picker from \"emoji-picker-react\";\r\n\r\nfunction Chat() {\r\n  const [input, setInput] = useState(\"\");\r\n  const [messages, setMessages] = useState([]);\r\n  const { roomId } = useParams();\r\n  const [roomName, setRoomName] = useState(\"\");\r\n  const user = useSelector(selectUser);\r\n  const [showPicker, setShowPicker] = useState(false);\r\n  const [chosenEmoji, setChosenEmoji] = useState(null);\r\n\r\n  \r\n\r\n  const onEmojiClick = (event, emojiObject) => {\r\n    setChosenEmoji(emojiObject);\r\n    setInput(input + emojiObject.emoji);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (roomId) {\r\n      db.collection(\"rooms\")\r\n        .doc(roomId)\r\n        .onSnapshot((snapshot) => setRoomName(snapshot.data().name));\r\n\r\n      db.collection(\"rooms\")\r\n        .doc(roomId)\r\n        .collection(\"messages\")\r\n        .orderBy(\"timestamp\", \"asc\")\r\n        .onSnapshot((snapshot) =>\r\n          setMessages(\r\n            snapshot.docs.map((doc) => ({\r\n              id: doc.id,\r\n              data: doc.data(),\r\n            }))\r\n          )\r\n        );\r\n    }\r\n  }, [roomId]);\r\n\r\n  const sendMessage = (e) => {\r\n    e.preventDefault();\r\n\r\n    db.collection(\"rooms\")\r\n      .doc(roomId)\r\n      .collection(\"messages\")\r\n      .add({\r\n        name: user.displayName,\r\n        message: input,\r\n        timestamp: `${new Date().toLocaleTimeString()}`,\r\n      });\r\n\r\n    setInput(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"chat\">\r\n      <div className=\"chat__header\">\r\n        <Avatar>{messages[messages.length - 1]?.data.name[0]}</Avatar>\r\n        <div className=\"chat__headerInfo\">\r\n          <h3>{roomName}</h3>\r\n          <p>last seen at {messages[messages.length - 1]?.data.timestamp}</p>\r\n        </div>\r\n        <div className=\"chat__headerRight\">\r\n          <IconButton>\r\n            <SearchOutlinedIcon />\r\n          </IconButton>\r\n          <IconButton>\r\n            <AttachFileOutlinedIcon />\r\n          </IconButton>\r\n          <IconButton>\r\n            <MoreVertIcon />\r\n          </IconButton>\r\n        </div>\r\n      </div>\r\n      <div className=\"chat__body\">\r\n        {messages.map(({ id, data: { name, message, timestamp } }) => (\r\n          <ChatMessage\r\n            key={id}\r\n            name={name}\r\n            message={message}\r\n            timestamp={timestamp}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className=\"chat__footer\">\r\n        {showPicker && <Picker onEmojiClick={onEmojiClick} />}\r\n        <IconButton onClick={(e) => setShowPicker(!showPicker)}>\r\n          <InsertEmoticonIcon />\r\n        </IconButton>\r\n        <form>\r\n          <input\r\n            value={input}\r\n            onChange={(e) => setInput(e.target.value)}\r\n            placeholder=\"Type a message\"\r\n            type=\"text\"\r\n          />\r\n          <button onClick={sendMessage} type=\"submit\">\r\n            Send a message\r\n          </button>\r\n        </form>\r\n        <MicIcon />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n","D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\SidebarChat.js",[],"D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\firebase.js",[],"D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\ChatMessage.js",[],["52","53"],"D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\Login.js",[],"D:\\JavaScript Course\\WhatsApp Clone Redux\\whatsapp-redux-clone\\src\\features\\userSlice.js",[],{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","severity":1,"message":"59","line":23,"column":10,"nodeType":"60","messageId":"61","endLine":23,"endColumn":21},{"ruleId":"54","replacedBy":"62"},{"ruleId":"56","replacedBy":"63"},"no-native-reassign",["64"],"no-negated-in-lhs",["65"],"no-unused-vars","'chosenEmoji' is assigned a value but never used.","Identifier","unusedVar",["64"],["65"],"no-global-assign","no-unsafe-negation"]